{"remainingRequest":"/home/igor/personal/vue_test/node_modules/babel-loader/lib/index.js!/home/igor/personal/vue_test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/igor/personal/vue_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/igor/personal/vue_test/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/igor/personal/vue_test/src/App.vue","mtime":1559428649199},{"path":"/home/igor/personal/vue_test/node_modules/cache-loader/dist/cjs.js","mtime":1559309139613},{"path":"/home/igor/personal/vue_test/node_modules/babel-loader/lib/index.js","mtime":1559309134885},{"path":"/home/igor/personal/vue_test/node_modules/cache-loader/dist/cjs.js","mtime":1559309139613},{"path":"/home/igor/personal/vue_test/node_modules/vue-loader/lib/index.js","mtime":1559309140829}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport List from \"./components/List.vue\";\nimport FormAddress from \"./components/FormAddress.vue\";\nexport default {\n  name: \"app\",\n  components: {\n    List: List,\n    FormAddress: FormAddress\n  },\n  data: function data() {\n    return {\n      cep: \"\",\n      addresses: [],\n      address: null,\n      index: null,\n      error: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var localAddresses = JSON.parse(localStorage.getItem(\"addresses\")) || [];\n    this.addresses = localAddresses;\n    this.$root.$on(\"postAddress\", function (addresses) {\n      _this.addresses = addresses;\n    });\n    this.$root.$on(\"selectedAddress\", function (index) {\n      _this.index = index;\n      _this.address = _this.addresses[index];\n    });\n    this.$root.$on(\"deletedAddress\", function (index) {\n      _this.addresses.splice(index, 1);\n\n      if (_this.addresses.length > 0) {\n        localStorage.setItem(\"addresses\", JSON.stringify(_this.addresses));\n      } else {\n        localStorage.removeItem(\"addresses\");\n      }\n    });\n  },\n  methods: {\n    getAddress: function getAddress() {\n      var _this2 = this;\n\n      var url = \"http://viacep.com.br/ws/\" + this.cep + \"/json/\";\n      axios.get(url).then(function (_ref) {\n        var data = _ref.data;\n        _this2.address = data;\n\n        if (_this2.address.cep) {\n          localStorage.setItem(\"selectedAddress\", JSON.stringify(_this2.address));\n          _this2.error = null;\n        } else {\n          _this2.error = \"Erro, verifique o cep digitado.\";\n        }\n      }).catch(function () {\n        _this2.error = \"Erro, verifique o cep digitado.\";\n      });\n    }\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,uBAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,IAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,QAAA,cAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,KAAA,EAAA;AACA,SAAA,SAAA,GAAA,cAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,aAAA,EAAA,UAAA,SAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,SAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA;AACA,KAHA;AAIA,SAAA,KAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,YAAA,CAAA,UAAA,CAAA,WAAA;AACA;AACA,KAPA;AAQA,GAjCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,UAAA,GAAA,GAAA,6BAAA,KAAA,GAAA,GAAA,QAAA;AAEA,MAAA,KAAA,CACA,GADA,CACA,GADA,EAEA,IAFA,CAEA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,IAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,GAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CACA,iBADA,EAEA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,OAAA,CAFA;AAIA,UAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,iCAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,iCAAA;AACA,OAhBA;AAiBA;AArBA;AAlCA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <nav class=\"navbar navbar-light bg-light\">\n        <span class=\"navbar-brand mb-0 h1\">Meus Endere√ßos</span>\n      </nav>\n      <div class=\"row\">\n        <div class=\"col-8\">\n          <List :addresses=\"addresses\" />\n        </div>\n        <div class=\"col-4\">\n          <div class=\"row\">\n            <div class=\"new col-12\">\n              <div v-if=\"error\" class=\"alert alert-danger mt-3\">\n                {{ error }}\n              </div>\n              <input\n                type=\"text\"\n                class=\"form-control mt-3\"\n                placeholder=\"Digite o cep\"\n                v-model=\"cep\"\n                @change=\"getAddress\"\n              />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div v-if=\"!error\" class=\"edit col-12\">\n              <FormAddress :address=\"address\" :index=\"index\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport List from \"./components/List.vue\";\nimport FormAddress from \"./components/FormAddress.vue\";\n\nexport default {\n  name: \"app\",\n  components: {\n    List,\n    FormAddress\n  },\n  data: function() {\n    return {\n      cep: \"\",\n      addresses: [],\n      address: null,\n      index: null,\n      error: null\n    };\n  },\n  mounted() {\n    const localAddresses = JSON.parse(localStorage.getItem(\"addresses\")) || [];\n    this.addresses = localAddresses;\n    this.$root.$on(\"postAddress\", addresses => {\n      this.addresses = addresses;\n    });\n    this.$root.$on(\"selectedAddress\", index => {\n      this.index = index;\n      this.address = this.addresses[index];\n    });\n    this.$root.$on(\"deletedAddress\", index => {\n      this.addresses.splice(index, 1);\n      if (this.addresses.length > 0) {\n        localStorage.setItem(\"addresses\", JSON.stringify(this.addresses));\n      } else {\n        localStorage.removeItem(\"addresses\");\n      }\n    });\n  },\n  methods: {\n    getAddress() {\n      const url = \"http://viacep.com.br/ws/\" + this.cep + \"/json/\";\n\n      axios\n        .get(url)\n        .then(({ data }) => {\n          this.address = data;\n          if (this.address.cep) {\n            localStorage.setItem(\n              \"selectedAddress\",\n              JSON.stringify(this.address)\n            );\n            this.error = null;\n          } else {\n            this.error = \"Erro, verifique o cep digitado.\";\n          }\n        })\n        .catch(() => {\n          this.error = \"Erro, verifique o cep digitado.\";\n        });\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Raleway\", sans-serif;\n}\n</style>\n"],"sourceRoot":"src"}]}